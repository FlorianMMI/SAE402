<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Trouble VR</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>

    <!-- physiques -->
    <script
        src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.2/dist/aframe-physics-system.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.4/dist/aframe-extras.min.js"></script>
    <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/aframevr/user-input-textarea/dist/aframe-user-input-textarea-component.min.js"></script>


</head>

<body>
    <a-scene physics="gravity: -9.8; restitution: 0.8" inspector-plugin-recast>

        <a-entity progressive-controls></a-entity>

        <a-light type="ambient" color="#FFF" intensity="1"></a-light>

        <a-entity id="rig" position="0 1 0" movement-controls="constrainToNavMesh: true; speed: 0.05">
            <a-camera id="camera" wasd-controls="acceleration: 15" look-controls="pointerLockEnabled: true;"
                position="0 1.5 0">
                <a-entity cursor position="0 0 -0.01" geometry="primitive: sphere; radius: 0.00005"
                    material="color: #202020; shader: flat">
                </a-entity>
            </a-camera>
            <a-entity id="leftController" oculus-touch-controls="hand: left" thumbstick-move></a-entity>
            <a-entity id="rightController" oculus-touch-controls="hand: right">
                <a-entity raycaster="objects: .collidable" cursor></a-entity>
            </a-entity>
        </a-entity>

      <!-- Champ de texte interactif -->
      <a-entity id="textDisplay" position="0 1.5 -2" 
                geometry="primitive: plane; width: 1.5; height: 0.3" 
                material="color: #CCC" 
                text="value: Cliquez ici pour entrer votre nom; align: center; color: black"
                clickable></a-entity>

      <!-- Clavier virtuel -->
      <a-entity id="keyboard" position="0 0.5 -2">
        <a-entity id="keysContainer"></a-entity>
      </a-entity>


        <!-- SKY -->
        <a-sky color="#ADD8E6"></a-sky>
        <!-- light -->
        <a-entity
            light="intensity: 1.5; castShadow: true; shadowCameraTop: 8.97; shadowCameraRight: 13.66; shadowCameraLeft: -12.71"
            position="-11.66809 4.066 5.08364">
        </a-entity>
        <script>
            console.log("Render Button");
            let ascene = document.querySelector("a-scene");
            let text = document.createElement("a-text");
            text.setAttribute("value", "Welcome to Class Trouble VR !");
            text.setAttribute("position", "0 4 -3");
            text.setAttribute("align", "center");
            text.setAttribute("color", "black");
            text.setAttribute("font", "./assets/font/Gloria-msdf.json");
            text.setAttribute("font-image", "./assets/font/Gloria-msdf.png");
            text.setAttribute("negate", "false");
            text.setAttribute("scale", "1.75 1.75 1.75");
            ascene.appendChild(text);
        </script>
        <script type="module" src="loading2.js"></script>
        <script type="module" src="data.js"></script>
    </a-scene>
</body>

</html>